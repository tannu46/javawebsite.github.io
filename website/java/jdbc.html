<!DOCTYPE html>
<html>
<head>
    <title>Website</title>
</head>
<style>
   
h1{
       text-align: center;
       font-weight: lighter;
       font-size: 60px;
       color: white;
       margin: 0;
       padding-left: 10px;
           }
           p{
               padding-left: 5px;
               font-size: 30px;
               font-weight: lighter;
               color: white;
               margin: 0;
       
           }
          
           b{
               font-weight: lighter;
               font-size: 25px;
               color:white;
               margin: 0;
               padding-left: 10px;
           }
           *{
   
      margin: 0;
     
      padding: 0;
     
      box-sizing: border-box;
     
     }
     
     
     
     .dropdown{
     
         margin: 0 auto;
         background: rgb(17,16,16);
background: radial-gradient(circle, rgba(17,16,16,1) 7%, rgba(11,113,232,1) 100%);
         background-position: center center;
         -webkit-background-size: cover ;
         background-size: cover;
         background-attachment: fixed;
         
         /* position: fixed; */
     
     }
     
     nav{
     
         height: 65px;
     
         background-color:#0a9395 ;
     
         box-shadow: 0 10px 15px rgba(0,0,0,0.1);
         text-align:justify;
         font-size: 30px;
        
     }
     
     .logo{
      width: 4rem;
      float: left;
      margin-top:2em ;
      clip-path: circle(45.4% at 50% 50%);
        
         width: 70px;
     
         display: inline;
     
         margin-top: -5px;
     
         margin-left: 10px;
        
     }
     
     nav ul{
     
         padding: 0;
     
         margin: 0;
     
         float: right;
     
         margin-right: 25px;
     
     }
     
     nav ul li{
      background:#0a9395  ;
         
     
         position: relative;
     
         list-style: none;
     
         display: inline-block;
     
     }
     
     nav ul li a{
     
         display: flex;
     
         padding: 0 15px;
     
         color:black;
     
         text-decoration: none;
     
         line-height: 65px;
     
         font-size: 25px;
     
         justify-content: space-between;
     
         align-items: center;
     
         text-align: center;
     
     }
     
     nav ul li a:hover{
     
         background:#0c5454;
     
     }
     
     nav ul ul{
     
         position: absolute;
     
         top: 60px;
     
         display: none;
     
     }
     
     nav ul li:hover > ul{
     
         display: block;
     
     }
     
     nav ul ul li{
     
         width:150px;
     
         float: none;
     
         display: list-item;
     
         position: relative;
     
     }
     p {
        margin-top: 50px;
        text-align: center;
        font: size 30px;
        color: yellow
     }
        pre
         {
            background-color: beige;
            color: #000000;
            font-size: 25px ;
            margin: 250px;
            margin-top: 2px;
            margin-bottom: 5px;
          
            border-radius: 25px;
         }

         .img-container {
        text-align: center;
        display: block;
      }
    
    </style>
    <body>
    
       <div class="dropdown">
           <nav>
               <img src="../images/main0.jpg" class="logo"><a>ASCODERS</a>
               <ul>
                   <li><a href="../index.html">Home</a></li>
                   <li><a href="#">Tutorial</a>
                       <ul>
                           <li><a href="../HTML.html">HTML</a></li>
                           <li><a href="../CSS.html">CSS</a></li>
                           <li><a href="../Java Script.html">Java Script</a></li>
                            <li><a href="../dbms.html">DBMS</a></li>
                           <li><a href="../sql.html">SQL</a></li>
                           <li><a href="../plsql.html">PL/SQL</a></li>
                           <li><a href="../java.html">JAVA</a></li>
                           <li><a href="../php.html">PHP</a></li>
                           
                       </ul>
                   </li>
                   <li><a href="#">About Us</a></li>
                   <li><a href="#">Contact Us</a></li>
               </ul>
           </nav><br>
           <h1>CORE JAVA PROGRAMMING: Practice Problems</h1>
 <p> QUESTION1:Create the connection with MySQL Database and manage the driver.</p>
  <pre>
              
    PROGRAM:
    import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;

class MySQLConnectionExample {
    public static void main(String[] args) {
        String url = "jdbc:mysql://localhost:3306/test";
        String user = "root";
        String password = "";

 try {
Class.forName("com.mysql.cj.jdbc.Driver");
Connection connection = DriverManager.getConnection(url,
      user, password);

if (connection != null) {
System.out.println("Connected to the MySQL database");
          connection.close();
            }
  } catch (ClassNotFoundException e) {
  System.err.println("MySQL JDBC driver not found");
  } catch (SQLException e) { 
   System.err.println("Connection to the database failed: "
    + e.getMessage());
        }
    }
}

</pre>

<p>OUTPUT:</p>
           
           
<span class="img-container"> <!-- Inline parent element -->
 <img src="../javapro/jdbc/1.png" alt="prog1" width="1000px" height="300px ">
</span>
                
<p> QUESTION2:Create the table in the database from Java API.</p>
<pre>
            
  PROGRAM:
class DataDefination {
    public static void main(String[] args) {
        try {

            Class.forName("com.mysql.cj.jdbc.Driver");

java.sql.Connection connect = java.sql.DriverManager.getConnection
("jdbc:mysql://localhost:3306/test","root", "");

 if (connect.isClosed()) {
System.out.println(" Your Connection is Closed!");
           System.exit(0);
            }

            // ------------------------------------------------------

      System.out.println(" Your Connection is Establised ");

      java.sql.Statement state = connect.createStatement();

     String create_table_query = "CREATE Table mytable3 (id int)";

     Boolean result = state.execute(create_table_query);

         if (result) {
              System.out.println("Table created!");
           }
        // -----------------------------------------------------

          connect.close();

          if (connect.isClosed())
 System.out.println(" Successfully Connection is Closed!");
      } catch (ClassNotFoundException error) {
          System.out.print(error.getMessage());
      } catch (java.sql.SQLException error) {
          System.out.print(error.getMessage());
        }
    }
}

</pre>

<p>OUTPUT:</p>
         
         
<span class="img-container"> <!-- Inline parent element -->
<img src="../javapro/jdbc/7044_jdbc_pro2.png" alt="prog1" width="1000px" height="300px ">
</span>
 
<p> QUESTION3: Insert the row in the table in the database from Java API.</p>
  <pre>
              
    PROGRAM:
    import java.sql.*;

    class employee{
    public static void main(String s[]){
    
    try{
    Class.forName("com.mysql.cj.jdbc.Driver");
    Connection con =DriverManager.getConnection
    ("jdbc:mysql://localhost:3306/mydb","root","");
    
    Statement s1=con.createStatement();
    int x= s1.executeUpdate("insert into users values
    (8,'test','something@gmail.com')");
    if(x==1){
    System.out.println("Row inserted successfully");}
    }catch(ClassNotFoundException e){System.out.println(e);}
    catch(SQLException e){System.out.println(e);}
    }} 
</pre>

<p>OUTPUT:</p>
           
           
<span class="img-container"> <!-- Inline parent element -->
 <img src="../javapro/jdbc/3.png" alt="prog1" width="1000px" height="300px ">
</span>
               
<p> QUESTION4:Update the row in the table in the database from Java API.</p>
<pre>
            
  PROGRAM:
  import java.sql.Connection;
  import java.sql.DriverManager;
  import java.sql.SQLException;
  import java.sql.Statement;
  
  class DatabaseUpdateWithStatement {
      public static void main(String[] args) {
          String url = "jdbc:mysql://localhost:3306/mydb";
          String username = "root";
          String password = "";
  
 // SQL update statement
 String updateSql = "UPDATE users SET id = 2 WHERE id = 5";
  
 try {
    Connection connection = DriverManager.getConnection(url,
     username, password);
    Statement statement = connection.createStatement();
    int rowsAffected = statement.executeUpdate(updateSql);
  
     if (rowsAffected > 0) {
                  System.out.println("Row updated successfully.");
     } else {
                  System.out.println("No rows updated.");
     }
          } catch (SQLException e) {
              e.printStackTrace();
          }
      }
  } 
</pre>

<p>OUTPUT:</p>
         
         
<span class="img-container"> <!-- Inline parent element -->
<img src="../javapro/jdbc/7002jdbc5.png" alt="prog1" width="1000px" height="300px ">
</span>

<p> QUESTION5: Delete the row in the table in the database from Java API.</p>
  <pre>
              
    PROGRAM:
    //  Delete the row in the table in the database from Java API.

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.Statement;
import java.sql.SQLException;
import java.sql.ResultSet;

class Main {
    private static Connection con;
    private static int rows_affected;

    public static void main(String[] args) {
        
     try{
  Class.forName("com.mysql.cj.jdbc.Driver");
  con = DriverManager.getConnection("jdbc:mysql://localhost
  :3306/test","roo"");
  
 Statement st = con.createStatement(ResultSet.TYPE_FORWARD_ONLY
 ,ResultSCONCUR_UPDATABLE);
 String sql = "DELETE FROM students";
            
 rows_affected = st.executeUpdate(sql);
 System.out.println("Numbers of rows deleted : "+rows_affected);
            
 //telling user that he is deleting from an empty table.
 ResultSet rs =  st.executeQuery("SELECT * FROM students");
 if(!rs.next())
 System.out.println("--------   Hey User, Your table is 
 empty.  --------");
        }
        catch(ClassNotFoundException c)
        {
            c.printStackTrace();
        }
        catch(SQLException s)
        {
            s.printStackTrace();
        }

        if(con!=null) {
            try {
                con.close();
            }
            catch(SQLException sql_e) {
                sql_e.printStackTrace();
            }
        }
    }
}
</pre>

<p>OUTPUT:</p>
           
           
<span class="img-container"> <!-- Inline parent element -->
 <img src="../javapro/jdbc/7002jdbc5.png" alt="prog1" width="1000px" height="300px ">
</span>
 
<p> QUESTION6: Select multiple rows from the database table in Java API and show<br> the result on the screen.</p>
  <pre>
              
    PROGRAM:
    import java.sql.*;
    import java.util.Scanner;
    
    class DatabaseManager {
public static void main(String[] args) throws ClassNotFoundException
 {
      Class.forName("com.mysql.cj.jdbc.Driver");
      try {
  Connection connection = DriverManager.getConnection
  ("jdbc:mysqlocalhost:3306/chatTest", "root", "");
  System.out.println("Connection successfully");
  Statement st = connection.createStatement(ResultSet.
  TYPE_SCROLL_SENSITIResultSet.CONCUR_READ_ONLY);
 ResultSet result = st.executeQuery("select * from chats");
    
 try{
      while(result.next()){
        System.out.println("Id = "+result.getInt("id")+ ", 
        username = result.getString("username") + ", message = " 
        + result.getSt("message"));
      }
 } catch(NumberFormatException e){
       System.out.println("Exception: " + e.getMessage());
 }
  connection.close(); } catch (SQLException e) {
 System.out.println("SQL Exception: " + e.getMessage()); }
  catch (Exception e){
 System.out.println("Exception: " + e.getMessage());
            }
        }
    }   
</pre>

<p>OUTPUT:</p>
           
           
<span class="img-container"> <!-- Inline parent element -->
 <img src="../javapro/jdbc/6.png" alt="prog1" width="1000px" height="300px ">
</span>
               
<p> QUESTION7:Create a Scrollable Readonly Resultset and ask the row <br>number from the user and display that row on the screen.</p>
  <pre>
              
    PROGRAM:
    import java.sql.*;
    import java.util.Scanner;
    
    class DatabaseManager {
 public static void main(String[] args) throws ClassNotFoundException {
           Class.forName("com.mysql.cj.jdbc.Driver");
 try {
      Connection connection = DriverManager.getConnection
      ("jdbc:mysqllocalhost:3306/chatTest", "root", "");
      System.out.println("Connection successfully");
     Statement st = connection.createStatement(ResultSet.
     TYPE_SCROLL_SENSITIVResultSet.CONCUR_READ_ONLY);
      ResultSet result = st.executeQuery("select * from chats");
    
      try{
          Scanner scanner = new Scanner(System.in);
        System.out.print("Enter row number : ");
        int row = scanner.nextInt();
          result.absolute(row);
          System.out.println("Id = "+result.getInt("id")+ ",
           username = "result.getString("username") + ", message = 
           " + result.getStr("message"));
          scanner.close();
      } catch(NumberFormatException e){
           System.out.println("Exception: " + e.getMessage());
       }
     connection.close();
 } catch (SQLException e) {
     System.out.println("SQL Exception: " + e.getMessage());
 } catch (Exception e){
      System.out.println("Exception: " + e.getMessage());
            }
        }
    }  
</pre>

<p>OUTPUT:</p>
           
           
<span class="img-container"> <!-- Inline parent element -->
 <img src="../javapro/jdbc/7001Jdbc7.png" alt="prog1" width="1000px" height="300px ">
</span>
               

<p> QUESTION8: Create a Scrollable Updateable Resultset and insert a new row,<br> update an existing row and delete the row from Resultset and also the changes should<br> be made to the database also. The values should be inserted, updated<br> and deleted by the user only.</p>
  <pre>
              
    PROGRAM:
    import java.sql.*;
    import java.util.Scanner;
    
    class ScrollableResultSetExample {
        public static void main(String[] args) {
            String url = "jdbc:mysql://localhost:3306/chatTest";
            String username = "root";
            String password = "";
    
 try {
       Connection connection = DriverManager.getConnection
       (url, usernampassword);
     Statement statement = connection.createStatement
     (ResultSTYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_UPDATABLE);
    
     // Create a ResultSet that is scrollable and updatable
     ResultSet resultSet = statement.executeQuery("SELECT * 
     FROM chats");
    
     System.out.println("All rows before operations :");
    while (resultSet.next()) {
           System.out.println("Id = " + resultSet.getInt("id") + 
           ", username =+ resultSet.getString("username") + ",
            message = " + resultSgetString("message"));
    }
    
     Scanner scanner = new Scanner(System.in);
    
      // Insert a new row
     System.out.println("Enter values for new row:");
     System.out.print("Id: ");
     int id = scanner.nextInt();
     scanner.nextLine();
     System.out.print("Username: ");
     String usernameValue = scanner.nextLine();
     System.out.print("Message: ");
     String message = scanner.nextLine();
    
      resultSet.moveToInsertRow();
     resultSet.updateInt("id", id);
     resultSet.updateString("username", usernameValue);
     resultSet.updateString("message", message);
     resultSet.insertRow();
    
     // Update an existing row
     System.out.println("Enter values for row to update:");
    System.out.print("Id: ");
     int updateId = scanner.nextInt();
    scanner.nextLine();
     System.out.print("New message: ");
     String newMessage = scanner.nextLine();
    
     resultSet.beforeFirst();
     while (resultSet.next()) {
         if (resultSet.getInt("id") == updateId) {
            resultSet.updateString("message", newMessage);
             resultSet.updateRow();
            break;
         }
     }
    
      // Delete a row
     System.out.println("Enter id of row to delete:");
     int deleteId = scanner.nextInt();
     scanner.nextLine();
    
     resultSet.beforeFirst();
    while (resultSet.next()) {
        if (resultSet.getInt("id") == deleteId) {
               resultSet.deleteRow();
               break;
         }
     }
    
     scanner.close();
    
     System.out.println("All rows after operations :");
     resultSet.beforeFirst();
    while (resultSet.next()) {
        System.out.println("Id = " + resultSet.getInt("id") 
        + ", username =+ resultSet.getString("username") + ",
         message = " + resultSgetString("message"));
     }
    
} catch (SQLException e) {
      System.out.println("SQLException: " + e.getMessage());
 } catch (Exception e){
       System.out.println("Exception: " + e.getMessage());
            }
        }
    }  
</pre>

<p>OUTPUT:</p>
           
           
<span class="img-container"> <!-- Inline parent element -->
 <img src="../javapro/jdbc/7001Jdbc8.png" alt="prog1" width="1000px" height="900px ">
</span>
               

<p> QUESTION9: Create a Java Program to show, insert, update, delete of the table <br>in Java API through PreparedStatement</p>
  <pre>
              
    PROGRAM:
    
    import java.sql.*;
    import java.util.Scanner;
    
    class Database{
 Connection c;
 PreparedStatement s;
 public Database(String url,String uname,String pass) 
 throws SQLException,ClassNotFoundException{
 Class.forName("com.mysql.cj.jdbc.Driver");
      c=DriverManager.getConnection(url,uname,pass);
 }
  void insert() throws SQLException {
 s=c.prepareStatement("insert into users values(?,?,?)");
 s.setInt(1,13);
 s.setString(2,"Ankush");
 s.setString(3,"Ankush@gmail.com");
    System.out.println(s.executeUpdate() +"Row affected");
       }
    void delete() throws SQLException {
     s=c.prepareStatement("delete from users where id=?");
     s.setInt(1,8);
    System.out.println(s.executeUpdate() +"Row affected");
            }
    
 void update() throws SQLException {
     s=c.prepareStatement("update users set username=? where id=?");
     s.setString(1,"Srk");
     s.setInt(2,1);
     System.out.println(s.executeUpdate() +"Row affected");
      }
    }
    class Db{
 public static void main(String str [])throws SQLException
 ,ClassNotFoundExceptiojava.io.IOException{
     String url = "jdbc:mysql://localhost:3306/mydb";
     String username = "root";
     String password = "";
     Database d=new Database(url,username,password);
     int c = 5;
     Scanner sc=new Scanner(System.in);
     while(c!=4){
        System.out.println(" Press 1 for insert. \n Press 
        2 for delete \n Press for update \n Press 4 for Exit");
        c=sc.nextInt();
        switch(c){
             case 1:
             d.insert();
             break;
                  
             case 2:
             d.delete();
             break;
                  
            case 3:
            d.update();
            break;
            case 4:
             System.out.println("Exit Successfully");
            break;
             default :
            System.out.println("Choose between 1-4");
            break;
                }
            }
        }
    }
       
</pre>

<p>OUTPUT:</p>
           
           
<span class="img-container"> <!-- Inline parent element -->
 <img src="../javapro/jdbc/7074JDBC-9.png" alt="prog1" width="1000px" height="900px ">
</span>

            </body>
            </html>
           